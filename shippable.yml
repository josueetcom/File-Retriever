language: java

jdk:
- oraclejdk8

services:

env:

matrix:

build:
  pre_ci:

  pre_ci_boot:
    image_name:
    image_tag:
    pull:
    options:
  
  ci:
    # Because the android sdk isn't downloaded by default
    - export ANDROID_HOME="$PWD/android-sdk-linux"
    - ./setup.sh
    - mkdir -p shippable/testresults
    - mkdir -p shippable/codecoverage
    - ./gradlew assemble
    - ./gradlew test
  on_success:
    - echo "success!"
  on_failure:
    - echo "failure"
  cache:
  push:
